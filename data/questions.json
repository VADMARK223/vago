[
  {
    "topic_id": 2,
    "text": "Что напечатает код?",
    "code": "s := []int{5, 6, 7}\ns2 := append(append(s, 8), 9)\nfmt.Println(len(s), cap(s))\n",
    "explanation": "append(s, 8) уже создало новый массив, но переменная s осталась нетронутой.",
    "answers": [
      {
        "text": "3 3",
        "correct": true
      },
      {
        "text": "3 4"
      },
      {
        "text": "3 6"
      },
      {
        "text": "3 8"
      }
    ]
  },
  {
    "topic_id": 2,
    "text": "Что напечатает код?",
    "code": "s := []int{1, 2, 3}\ns2 := s[:1]       // len=1, cap=3\ns3 := append(s2, 9)\nfmt.Println(s, s3)\n",
    "explanation": "append пишет в общую память: срез s тоже меняется.",
    "answers": [
      {
        "text": "[1 2 3] [1 9]"
      },
      {
        "text": "[1 9 3] [1 9]",
        "correct": true
      },
      {
        "text": "[1 9 3] [1 9 3]"
      },
      {
        "text": "[1 2 3] [1 2 3 9]"
      }
    ]
  },
  {
    "topic_id": 2,
    "text": "Что напечатает код?",
    "code": "s := make([]int, 2, 5)\ns2 := append(s, 7)\ns2[0] = 99\nfmt.Println(s[0])\n",
    "explanation": "Общий массив, так как при append вместимости хватает (5)",
    "answers": [
      {
        "text": "99",
        "correct": true
      },
      {
        "text": "0"
      },
      {
        "text": "7"
      },
      {
        "text": "Panic"
      }
    ]
  },
  {
    "topic_id": 2,
    "text": "Что напечатает код?",
    "code": "s := []int{10, 20, 30}\ns2 := s[:2]\ns2[1] = 99\nfmt.Println(s[1])\n",
    "explanation": "Подзрезка тоже же базового массива.\nПосле подрезки в s2 [10 20], len=2, cap=3",
    "answers": [
      {
        "text": "99",
        "correct": true
      },
      {
        "text": "20"
      },
      {
        "text": "30"
      },
      {
        "text": "Panic"
      }
    ]
  },
  {
    "topic_id": 2,
    "text": "Что напечатает код?",
    "code": "s := []int{1, 2, 3}\ns2 := append(s, 4)\ns2[0] = 99\nfmt.Println(s[0])\n",
    "explanation": "В начале len=3 cap=3, под срезом лежит массив [1 2 3]\nПосле добавления 4, нет свободного места создается НОВЫЙ базовый массив с cap=6, изменения идут уже у нового массива",
    "answers": [
      {
        "text": "1",
        "correct": true
      },
      {
        "text": "99"
      },
      {
        "text": "Runtime panic"
      },
      {
        "text": "Зависит от версии Go"
      }
    ]
  },
  {
    "topic_id": 9,
    "text": "Что произойдёт при исполнении?",
    "code": "ch := make(chan int)\ngo func() {\n    ch <- 10\n}()\nfmt.Println(<-ch)\n",
    "explanation": "Обычная синхронная передача данных.",
    "answers": [
      {
        "text": "Deadlock"
      },
      {
        "text": "10",
        "correct": true
      },
      {
        "text": "Panic: closed channel"
      },
      {
        "text": "Неопределенное поведение"
      }
    ]
  },
  {
    "topic_id": 4,
    "text": "Что выведет код?",
    "code": "m := make(map[string]int)\nm[\"a\"] = 1\nfor k := range m {\n    delete(m, k)\n}\nfmt.Println(len(m))\n",
    "explanation": "Go допускает удаление элементов из map во время итерации.",
    "answers": [
      {
        "text": "1"
      },
      {
        "text": "0",
        "correct": true
      },
      {
        "text": "panic"
      },
      {
        "text": "Неопределенное поведение"
      }
    ]
  },
  {
    "topic_id": 11,
    "text": "Для чего нужен интерфейс error?",
    "answers": [
      {
        "text": "Для обработки исключений"
      },
      {
        "text": "Для передачи ошибок как значений",
        "correct": true
      },
      {
        "text": "Чтобы логировать ошибки автоматически"
      },
      {
        "text": "Чтобы завершать программу"
      }
    ]
  },
  {
    "topic_id": 9,
    "text": "Какая коллекция в Go является потокобезопасной по умолчанию?",
    "answers": [
      {
        "text": "Map"
      },
      {
        "text": "Slice"
      },
      {
        "text": "Channel",
        "correct": true
      },
      {
        "text": "Array"
      }
    ]
  },
  {
    "topic_id": 9,
    "text": "Какой тип передается в канал chan int?",
    "answers": [
      {
        "text": "Только указатели на int",
        "correct": false
      },
      {
        "text": "Только значения типа int",
        "correct": true
      },
      {
        "text": "Любые числа",
        "correct": false
      },
      {
        "text": "Любые типы",
        "correct": false
      }
    ]
  },
  {
    "topic_id": 9,
    "text": "Что произойдёт при записи в закрытый канал?",
    "answers": [
      {
        "text": "Ничего — значение игнорируется",
        "correct": false
      },
      {
        "text": "Запись блокируется",
        "correct": false
      },
      {
        "text": "Происходит panic",
        "correct": true
      },
      {
        "text": "Возвращается zero-value",
        "correct": false
      }
    ]
  },
  {
    "topic_id": 13,
    "text": "Когда происходит escape в heap?",
    "answers": [
      {
        "text": "Когда переменная слишком большая",
        "correct": false
      },
      {
        "text": "Когда значение нужно вернуть наружу и оно \"живет\" после выхода функции",
        "correct": true
      },
      {
        "text": "Когда в функции много переменных",
        "correct": false
      },
      {
        "text": "Когда программа вызывает panic",
        "correct": false
      }
    ]
  },
  {
    "topic_id": 7,
    "text": "Что такое goroutine?",
    "answers": [
      {
        "text": "Отдельный процесс ОС",
        "correct": false
      },
      {
        "text": "Лёгкая потокоподобная сущность, управляемая рантаймом Go",
        "correct": true
      },
      {
        "text": "Поток ОС",
        "correct": false
      },
      {
        "text": "Операция ввода-вывода",
        "correct": false
      }
    ]
  },
  {
    "topic_id": 12,
    "text": "Что делает ключевое слово defer?",
    "answers": [
      {
        "text": "Выполняет функцию асинхронно",
        "correct": false
      },
      {
        "text": "Выполняет функцию после выхода из текущей функции",
        "correct": true
      },
      {
        "text": "Отменяет выполнение функции",
        "correct": false
      },
      {
        "text": "Экспортирует функцию",
        "correct": false
      }
    ]
  },
  {
    "topic_id": 5,
    "text": "Какой размер у пустой структуры struct{}?",
    "answers": [
      {
        "text": "1 байт",
        "correct": false
      },
      {
        "text": "0 байт",
        "correct": true
      },
      {
        "text": "4 байта",
        "correct": false
      },
      {
        "text": "Зависит от архитектуры",
        "correct": false
      }
    ]
  }
]
