import{C as e,S as t,T as n,a as r,c as i,d as a,i as o,l as s,o as c,s as l,t as u,u as d,x as f}from"./index-DfVnzSvh.js";const p=()=>s({queryKey:[r.USERS],queryFn:()=>c.get(o.USERS).json()}),m=()=>{let e=d();return i({mutationFn:e=>c.delete(`${o.USERS}/${e}`).json(),onSuccess:async()=>{await e.invalidateQueries({queryKey:[r.USERS]})}})};var h=a();function g({id:t}){let{message:r}=n.useApp(),{mutate:i,isPending:a}=m();return(0,h.jsx)(e,{type:`primary`,onClick:()=>{i(t,{onSuccess:async e=>{r.success(e.message)},onError:async e=>{let t=await l(e);r.error(t)}})},danger:!0,loading:a,size:`large`,icon:(0,h.jsx)(f,{})})}function _(){let{data:e,isLoading:t,isError:n}=p();return t?(0,h.jsx)(`div`,{children:`Loading...`}):n?(0,h.jsx)(`div`,{children:`Error`}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(u,{children:(0,h.jsx)(`div`,{className:`stack`,children:e?.data.users.map(e=>(0,h.jsxs)(`div`,{className:`panel`,children:[(0,h.jsxs)(`div`,{children:[(0,h.jsxs)(`h2`,{children:[`ID: `,e.id]}),(0,h.jsxs)(`span`,{children:[`Username: `,e.username]}),(0,h.jsx)(`br`,{}),(0,h.jsxs)(`span`,{children:[`Login: `,e.login]}),(0,h.jsx)(`br`,{}),(0,h.jsxs)(`span`,{children:[`Role: `,e.role]})]}),(0,h.jsx)(g,{id:e.id})]},e.id))})})})}const v=()=>(0,h.jsx)(`div`,{className:`tabs-page`,children:(0,h.jsx)(t,{defaultActiveKey:`users`,items:[{key:`users`,label:`Пользователи`,children:(0,h.jsx)(_,{})},{key:`comments`,label:`Комментарии`,children:`Комментарии`,disabled:!0},{key:`messages`,label:`Сообщения`,children:`Сообщения`,disabled:!0}],onChange:e=>{console.log(`handleTabChange`,e)}})});export{v as AdminPage};