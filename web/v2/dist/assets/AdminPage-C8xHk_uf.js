import{S as e,a as t,b as n,c as r,d as i,i as a,l as o,o as s,s as c,t as l,u,w as d,x as f}from"./index-BUS6Rd9B.js";const p=()=>o({queryKey:[t.USERS],queryFn:()=>s.get(a.USERS).json()}),m=()=>{let e=u();return r({mutationFn:e=>s.delete(`${a.USERS}/${e}`).json(),onSuccess:async()=>{await e.invalidateQueries({queryKey:[t.USERS]})}})};var h=i();function g({id:t}){let{message:r}=d.useApp(),{mutate:i,isPending:a}=m();return(0,h.jsx)(e,{type:`primary`,onClick:()=>{i(t,{onSuccess:async e=>{r.success(e.message)},onError:async e=>{let t=await c(e);r.error(t)}})},danger:!0,loading:a,size:`large`,icon:(0,h.jsx)(n,{})})}function _(){let{data:e,isLoading:t,isError:n}=p();return t?(0,h.jsx)(`div`,{children:`Loading...`}):n?(0,h.jsx)(`div`,{children:`Error`}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l,{children:(0,h.jsx)(`div`,{className:`stack`,children:e?.data.users.map(e=>(0,h.jsxs)(`div`,{className:`panel`,children:[(0,h.jsxs)(`div`,{children:[(0,h.jsxs)(`h2`,{children:[`ID: `,e.id]}),(0,h.jsxs)(`span`,{children:[`Username: `,e.username]}),(0,h.jsx)(`br`,{}),(0,h.jsxs)(`span`,{children:[`Login: `,e.login]}),(0,h.jsx)(`br`,{}),(0,h.jsxs)(`span`,{children:[`Role: `,e.role]})]}),(0,h.jsx)(g,{id:e.id})]},e.id))})})})}const v=()=>(0,h.jsx)(`div`,{className:`tabs-page`,children:(0,h.jsx)(f,{defaultActiveKey:`users`,items:[{key:`users`,label:`Пользователи`,children:(0,h.jsx)(_,{})},{key:`comments`,label:`Комментарии`,children:`Комментарии`,disabled:!0},{key:`messages`,label:`Сообщения`,children:`Сообщения`,disabled:!0}],onChange:e=>{console.log(`handleTabChange`,e)}})});export{v as AdminPage};