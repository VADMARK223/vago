import{C as e,a as t,d as n,i as r,l as i,n as a,o,r as s,s as c,t as l,x as u}from"./index-5Iak_7Bb.js";var d=n();function f({id:t}){let{mutate:n,isPending:r}=s();return(0,d.jsx)(e,{title:`Удалить пользователя: ${t} `,placement:`top`,children:(0,d.jsx)(`span`,{style:{display:`inline-block`},children:(0,d.jsx)(a,{onClick:()=>n(t),loading:r,size:`large`})})})}function p(){let{data:e,isLoading:t,isError:n}=r(),i=e?.users??[];return t?(0,d.jsx)(`div`,{children:`Loading...`}):n?(0,d.jsx)(`div`,{children:`Error`}):i.length?(0,d.jsx)(c,{children:(0,d.jsx)(`div`,{className:`stack`,children:i.map(e=>(0,d.jsxs)(`div`,{className:`panel`,children:[(0,d.jsxs)(`div`,{children:[(0,d.jsxs)(`h2`,{children:[`ID: `,e.id]}),(0,d.jsxs)(`span`,{children:[`Username: `,e.username]}),(0,d.jsx)(`br`,{}),(0,d.jsxs)(`span`,{children:[`Login: `,e.login]}),(0,d.jsx)(`br`,{}),(0,d.jsxs)(`span`,{children:[`Role: `,e.role]})]}),(0,d.jsx)(f,{id:e.id})]},e.id))})}):(0,d.jsx)(`div`,{children:`No users found`})}var m=[{key:`users`,label:`Пользователи`,children:(0,d.jsx)(p,{})},{key:`messages`,label:`Сообщения`,children:(0,d.jsx)(()=>{let{data:e,isLoading:n,isError:r}=o();return n?(0,d.jsx)(`div`,{children:`Loading...`}):r?(0,d.jsx)(`div`,{children:`Error`}):e.length?(0,d.jsxs)(`div`,{style:{width:`100%`},children:[(0,d.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,margin:`8px`},children:[(0,d.jsxs)(`div`,{children:[`Всего: `,e.length]}),(0,d.jsx)(t,{})]}),(0,d.jsx)(c,{children:(0,d.jsx)(`div`,{className:`stack`,children:e.map(e=>(0,d.jsxs)(`div`,{className:`panel`,children:[(0,d.jsxs)(`div`,{children:[(0,d.jsxs)(`h3`,{children:[`ID: `,e.id]}),(0,d.jsxs)(`div`,{children:[`Username: `,e.username,` (Id: `,e.authorId,`)`]}),(0,d.jsxs)(`div`,{children:[`Body: `,(0,d.jsx)(`b`,{children:e.body})]}),(0,d.jsxs)(`div`,{children:[`Type: `,e.type]}),(0,d.jsxs)(`div`,{children:[`Sent at: `,e.sentAt]})]}),(0,d.jsx)(l,{id:e.id})]},e.id))})})]}):(0,d.jsx)(`div`,{children:`Сообщений нет`})},{})},{key:`comments`,label:`Комментарии`,children:`Комментарии`,disabled:!0}],h=e=>e===`users`||e===`messages`;const g=()=>{let e=i(e=>e.adminTabKey),t=i(e=>e.setAdminTabKey);return(0,d.jsx)(`div`,{className:`tabs-page`,children:(0,d.jsx)(u,{activeKey:e,items:m,onChange:e=>{h(e)&&t(e)}})})};export{g as AdminPage};