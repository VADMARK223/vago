import{C as e,a as t,b as n,c as r,d as i,i as a,l as o,n as s,o as c,s as l,u,x as d,y as f}from"./index-Db0aEsii.js";const p=()=>o({queryKey:[t.USERS],queryFn:()=>c.get(a.USERS).json()}),m=()=>{let e=u();return r({mutationFn:e=>c.delete(`${a.USERS}/${e}`).json(),onSuccess:async()=>{await e.invalidateQueries({queryKey:[t.USERS]})}})};var h=i();function g({id:t}){let{message:n}=e.useApp(),{mutate:r,isPending:i}=m();return(0,h.jsx)(d,{type:`primary`,onClick:()=>{r(t,{onSuccess:async e=>{n.success(e.message)},onError:async e=>{let t=await l(e);n.error(t)}})},danger:!0,loading:i,size:`large`,icon:(0,h.jsx)(f,{})})}function _(){let{data:e,isLoading:t,isError:n}=p();return t?(0,h.jsx)(`div`,{children:`Loading...`}):n?(0,h.jsx)(`div`,{children:`Error`}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(s,{children:(0,h.jsx)(`div`,{className:`stack`,children:e?.data.users.map(e=>(0,h.jsxs)(`div`,{className:`panel`,children:[(0,h.jsxs)(`div`,{children:[(0,h.jsxs)(`h2`,{children:[`ID: `,e.id]}),(0,h.jsxs)(`span`,{children:[`Username: `,e.username]}),(0,h.jsx)(`br`,{}),(0,h.jsxs)(`span`,{children:[`Login: `,e.login]}),(0,h.jsx)(`br`,{}),(0,h.jsxs)(`span`,{children:[`Role: `,e.role]})]}),(0,h.jsx)(g,{id:e.id})]},e.id))})})})}const v=()=>(0,h.jsx)(`div`,{className:`tabs-page`,children:(0,h.jsx)(n,{defaultActiveKey:`users`,items:[{key:`users`,label:`Пользователи`,children:(0,h.jsx)(_,{})},{key:`comments`,label:`Комментарии`,children:`Комментарии`,disabled:!0},{key:`messages`,label:`Сообщения`,children:`Сообщения`,disabled:!0}],onChange:e=>{console.log(`handleTabChange`,e)}})});export{v as AdminPage};