import{C as e,E as t,O as n,a as r,b as i,c as a,i as o,l as s,o as c,r as l,s as u,u as d,x as f,y as p}from"./index-C_au5oyt.js";var m={icon:{tag:`svg`,attrs:{viewBox:`64 64 896 896`,focusable:`false`},children:[{tag:`path`,attrs:{d:`M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z`}}]},name:`delete`,theme:`outlined`},h=n(t());function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}var _=h.forwardRef((t,n)=>h.createElement(e,g({},t,{ref:n,icon:m})));const v=()=>a({queryKey:[o.USERS],queryFn:()=>r.get(l.USERS).json()}),y=()=>{let e=s();return u({mutationFn:e=>r.delete(`${l.USERS}/${e}`).json(),onSuccess:()=>{e.invalidateQueries({queryKey:[o.USERS]})}})};var b=d();function x({id:e}){let{message:t}=f.useApp(),{mutate:n,isPending:r}=y();return(0,b.jsx)(i,{type:`primary`,onClick:()=>{n(e,{onSuccess:e=>{t.success(e.message)},onError:async e=>{let n=await c(e);t.error(n)}})},danger:!0,loading:r,size:`large`,icon:(0,b.jsx)(_,{})})}function S(){let{data:e,isLoading:t,isError:n}=v();return t?(0,b.jsx)(`div`,{children:`Loading...`}):n?(0,b.jsx)(`div`,{children:`Error`}):(0,b.jsx)(`div`,{className:`scroll-box`,children:(0,b.jsx)(`div`,{className:`stack`,children:e?.data.users.map(e=>(0,b.jsxs)(`div`,{className:`panel`,children:[(0,b.jsxs)(`div`,{children:[(0,b.jsxs)(`h2`,{children:[`ID: `,e.id]}),(0,b.jsxs)(`span`,{children:[`Username: `,e.username]}),(0,b.jsx)(`br`,{}),(0,b.jsxs)(`span`,{children:[`Login: `,e.login]}),(0,b.jsx)(`br`,{}),(0,b.jsxs)(`span`,{children:[`Role: `,e.role]})]}),(0,b.jsx)(x,{id:e.id})]},e.id))})})}function C(){return(0,b.jsx)(`div`,{className:`tabs-page`,children:(0,b.jsx)(p,{defaultActiveKey:`users`,items:[{key:`users`,label:`Пользователи`,children:(0,b.jsx)(S,{})},{key:`comments`,label:`Комментарии`,children:`Комментарии`,disabled:!0}],onChange:e=>{console.log(`handleTabChange`,e)}})})}export{C as default};