import{C as e,E as t,O as n,a as r,b as i,c as a,i as o,l as s,o as c,r as l,s as u,u as d,x as f,y as p}from"./index-BrDgW9Ov.js";var m={icon:{tag:`svg`,attrs:{viewBox:`64 64 896 896`,focusable:`false`},children:[{tag:`path`,attrs:{d:`M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z`}}]},name:`up`,theme:`outlined`},h=n(t());function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}var _=h.forwardRef((t,n)=>h.createElement(e,g({},t,{ref:n,icon:m}))),v={icon:{tag:`svg`,attrs:{viewBox:`64 64 896 896`,focusable:`false`},children:[{tag:`path`,attrs:{d:`M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z`}}]},name:`delete`,theme:`outlined`};function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}var b=h.forwardRef((t,n)=>h.createElement(e,y({},t,{ref:n,icon:v})));const x=()=>a({queryKey:[o.USERS],queryFn:()=>r.get(l.USERS).json()}),S=()=>{let e=s();return u({mutationFn:e=>r.delete(`${l.USERS}/${e}`).json(),onSuccess:()=>{e.invalidateQueries({queryKey:[o.USERS]})}})};var C=d();function w({id:e}){let{message:t}=f.useApp(),{mutate:n,isPending:r}=S();return(0,C.jsx)(i,{type:`primary`,onClick:()=>{n(e,{onSuccess:async e=>{t.success(e.message)},onError:async e=>{let n=await c(e);t.error(n)}})},danger:!0,loading:r,size:`large`,icon:(0,C.jsx)(b,{})})}function T({containerRef:e}){let[t,n]=h.useState(!1);return(0,h.useEffect)(()=>{let t=e.current;if(!t)return;let r=()=>{n(t.scrollTop>30)};return t.addEventListener(`scroll`,r),()=>{t.removeEventListener(`scroll`,r)}},[e]),(0,C.jsx)(i,{type:`primary`,shape:`circle`,icon:(0,C.jsx)(_,{}),onClick:()=>{e?.current?.scrollTo({top:0,behavior:`smooth`})},style:{position:`absolute`,right:16,bottom:16,opacity:t?1:0}})}function E({children:e}){let t=(0,h.useRef)(null);return(0,C.jsxs)(`div`,{className:`scrollable-wrapper`,children:[(0,C.jsx)(`div`,{ref:t,className:`scrollable-content`,children:e}),(0,C.jsx)(T,{containerRef:t})]})}function D(){let{data:e,isLoading:t,isError:n}=x();return t?(0,C.jsx)(`div`,{children:`Loading...`}):n?(0,C.jsx)(`div`,{children:`Error`}):(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(E,{children:(0,C.jsx)(`div`,{className:`stack`,children:e?.data.users.map(e=>(0,C.jsxs)(`div`,{className:`panel`,children:[(0,C.jsxs)(`div`,{children:[(0,C.jsxs)(`h2`,{children:[`ID: `,e.id]}),(0,C.jsxs)(`span`,{children:[`Username: `,e.username]}),(0,C.jsx)(`br`,{}),(0,C.jsxs)(`span`,{children:[`Login: `,e.login]}),(0,C.jsx)(`br`,{}),(0,C.jsxs)(`span`,{children:[`Role: `,e.role]})]}),(0,C.jsx)(w,{id:e.id})]},e.id))})})})}function O(){return(0,C.jsx)(`div`,{className:`tabs-page`,children:(0,C.jsx)(p,{defaultActiveKey:`users`,items:[{key:`users`,label:`Пользователи`,children:(0,C.jsx)(D,{})},{key:`comments`,label:`Комментарии`,children:`Комментарии`,disabled:!0},{key:`messages`,label:`Сообщения`,children:`Сообщения`,disabled:!0}],onChange:e=>{console.log(`handleTabChange`,e)}})})}export{O as default};