import{S as e,a as t,b as n,c as r,i,l as a,o,r as s,s as c,t as l,u,v as d,y as f}from"./index-Dgjj6vUq.js";const p=()=>r({queryKey:[i.USERS],queryFn:()=>t.get(s.USERS).json()}),m=()=>{let e=a();return c({mutationFn:e=>t.delete(`${s.USERS}/${e}`).json(),onSuccess:async()=>{await e.invalidateQueries({queryKey:[i.USERS]})}})};var h=u();function g({id:t}){let{message:r}=e.useApp(),{mutate:i,isPending:a}=m();return(0,h.jsx)(n,{type:`primary`,onClick:()=>{i(t,{onSuccess:async e=>{r.success(e.message)},onError:async e=>{let t=await o(e);r.error(t)}})},danger:!0,loading:a,size:`large`,icon:(0,h.jsx)(d,{})})}function _(){let{data:e,isLoading:t,isError:n}=p();return t?(0,h.jsx)(`div`,{children:`Loading...`}):n?(0,h.jsx)(`div`,{children:`Error`}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(l,{children:(0,h.jsx)(`div`,{className:`stack`,children:e?.data.users.map(e=>(0,h.jsxs)(`div`,{className:`panel`,children:[(0,h.jsxs)(`div`,{children:[(0,h.jsxs)(`h2`,{children:[`ID: `,e.id]}),(0,h.jsxs)(`span`,{children:[`Username: `,e.username]}),(0,h.jsx)(`br`,{}),(0,h.jsxs)(`span`,{children:[`Login: `,e.login]}),(0,h.jsx)(`br`,{}),(0,h.jsxs)(`span`,{children:[`Role: `,e.role]})]}),(0,h.jsx)(g,{id:e.id})]},e.id))})})})}function v(){return(0,h.jsx)(`div`,{className:`tabs-page`,children:(0,h.jsx)(f,{defaultActiveKey:`users`,items:[{key:`users`,label:`Пользователи`,children:(0,h.jsx)(_,{})},{key:`comments`,label:`Комментарии`,children:`Комментарии`,disabled:!0},{key:`messages`,label:`Сообщения`,children:`Сообщения`,disabled:!0}],onChange:e=>{console.log(`handleTabChange`,e)}})})}export{v as default};