<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Книга</title>
    <link rel="stylesheet" href="/static/css/index.css">
    <link rel="stylesheet" href="/static/css/github-dark.min.css">
    <script src="/static/js/highlight.min.js"></script>
</head>
<body>
{{ template "header" . }}

<main>
    <div class="container">
        <form method="get" action="/book">
            <label>
                <select name="chapter_id" onchange="this.form.submit()" style="margin-bottom: var(--space-2)">
                    <option value="0"
                            {{ if eq $.chapter_id .ID }}selected{{ end }}
                    >Оглавление
                    </option>
                    {{ range .chapters }}
                    <option value="{{ .ID }}"
                            {{ if eq $.chapter_id .ID }}selected{{ end }}
                    >{{ if not .HideID }}{{ .ID }}. {{ end }} {{ .Name }}
                    </option>
                    {{ end }}
                    <option value="" disabled>------------</option>
                    {{ range .tasks }}
                    <option value="{{ .ID }}"
                            {{ if eq $.chapter_id .ID }}selected{{ end }}
                    >{{ .Name }}
                    </option>
                    {{ end }}
                </select>
            </label>
        </form>
        <div class="scrollable-content">
            <div class="chapter">
                {{ if eq .chapter_id 1 }}
                {{ template "book.common" . }}
                {{ else if eq .chapter_id 2 }}
                {{ template "book.slices" . }}
                {{ else if eq .chapter_id 3 }}
                {{ template "book.arrays" . }}
                {{ else if eq .chapter_id 4 }}
                {{ template "book.maps" . }}
                {{ else if eq .chapter_id 5 }}
                {{ template "book.functions" . }}
                {{ else if eq .chapter_id 6 }}
                {{ template "book.interfaces" . }}
                {{ else if eq .chapter_id 7 }}
                {{ template "book.goroutines" . }}
                {{ else if eq .chapter_id 9 }}
                {{ template "book.channels" . }}
                {{ else if eq .chapter_id 10 }}
                {{ template "book.sync" . }}
                {{ else if eq .chapter_id 11 }}
                {{ template "book.errors" . }}
                {{ else if eq .chapter_id 12 }}
                {{ template "book.defer" . }}
                {{ else if eq .chapter_id 14 }}
                {{ template "book.pointers" . }}
                {{ else if eq .chapter_id 16 }}
                {{ template "book.context" . }}
                {{ else if eq .chapter_id 17 }}
                {{ template "book.strings" . }}
                {{ else if eq .chapter_id 18 }}
                {{ template "book.generics" . }}
                {{ else if eq .chapter_id 19 }}
                {{ template "book.select" . }}
                {{ else if eq .chapter_id 20 }}
                {{ template "book.testing" . }}
                {{ else if eq .chapter_id 21 }}
                {{ template "book.ci_cd" . }}
                {{ else if eq .chapter_id 100 }}
                {{ template "book.cheat" . }}

                {{ else if eq .chapter_id -1 }}
                {{ template "task.sandbox" . }}
                {{ else if eq .chapter_id -2 }}
                {{ template "task.fan" . }}
                {{ else if eq .chapter_id -3 }}
                {{ template "task.go1" . }}
                {{ else }}
                <div>
                    {{ range .chapters }}
                    <a href="/book?chapter_id={{ .ID }}">{{ if not .HideID }}{{ .ID }}. {{ end }} {{ .Name }}</a><br>
                    {{ end }}
                </div>
                {{ end }}
            </div>
        </div>
    </div>
</main>

{{ template "footer" . }}
<script>hljs.highlightAll();</script>
</body>
</html>