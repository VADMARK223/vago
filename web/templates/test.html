<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Quiz</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="stylesheet" href="/static/css/github-dark.min.css">
    <script src="/static/js/lib/highlight.min.js"></script>
    <script src="/static/js/common/scroll.js" defer></script>
    <script src="/static/js/components/test.js" defer></script>
</head>
<body>
{{ template "header" . }}

<main>
    <div id="quiz" data-question-id="{{.question.ID}}"></div>

    <div class="container">
        {{if .user_id}}
        <p>–ó–∞–ª–æ–≥–∏–Ω–µ–Ω</p>
        {{else}}
        <p>–ù–µ –ó–∞–ª–æ–≥–∏–Ω–µ–Ω</p>
        {{end}}

        <h3>{{.question.ID}}. {{.question.Text}}</h3>
        <span style="margin-bottom: var(--space-2)">–¢–µ–º–∞: {{.question.TopicName}}</span>

        {{if .question.Code}}
        <pre><code class="language-go">{{.question.Code}}</code></pre>
        {{end}}

        {{range .question.Answers}}
        <button class="answer" data-id="{{.ID}}">
            {{.Text}}
        </button>
        {{end}}

        <div class="stack" style="margin-bottom: var(--space-2)">
            <p id="result">–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–≤–µ—Ç üëÜ</p>
            <p id="explanation" class="panel hidden" style="width: 100%"></p>

            <button id="continueBtn" class="btn btn-primary" hidden>
                –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å
            </button>
        </div>

        <div class="scrollable-wrapper">
            <div class="scrollable-content" id="scrollable">
                <div class="stack">
                    <div class="panel" style="width: 100%">
                        <div style="margin-bottom: var(--space-2)">
                            {{ if gt .comments_count 0 }}
                            <p>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤: {{ .comments_count }}</p>
                            {{ else }}
                            <p>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>
                            {{ end }}
                        </div>
                        <div id="comments">
                            {{ template "component.comments" dict
                            "Comments" .comments
                            "IsAuth" .user_id}}
                        </div>
                    </div>

                    {{if not .user_id}}
                    <div class="panel panel--success" style="width: 100%">
                        <a href="/login">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –ø–æ—Ä—Ç–∞–ª–µ</a>, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
                    </div>
                    {{ end }}
                </div>
            </div>
            {{ template "component.up_btn" . }}
        </div>

    </div>
</main>
<script>hljs.highlightAll();</script>
</body>
</html>