{{ define "book.functions" }}
<h1>–§—É–Ω–∫—Ü–∏–∏ –∏ –º–µ—Ç–æ–¥—ã</h1>
<a href="#functions">–§—É–Ω–∫—Ü–∏–∏</a>
<a href="#methods">–ú–µ—Ç–æ–¥—ã</a>
<h2 id="functions">–§—É–Ω–∫—Ü–∏–∏</h2>
<p>–§—É–Ω–∫—Ü–∏–∏ –≤ Go ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –±–ª–æ–∫–æ–≤ —è–∑—ã–∫–∞.</p>
<h3>–ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ—É–Ω–∫—Ü–∏–∏</h3>
<pre><code class="language-go">func add(a int, b int) int {
	return a + b
}</code></pre>
<ul>
    <li><code>func</code> ‚Äî –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ</li>
    <li>–∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî <code>add</code></li>
    <li>–ø–∞—Ä–∞–º–µ—Ç—Ä—ã: <code>(a int, b int)</code></li>
    <li>—Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî <code>int</code></li>
    <li><code>return</code> –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω, –µ—Å–ª–∏ –µ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</li>
</ul>
<p>–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:</p>
<pre><code class="language-go">func add(a, b int) int {
	return a + b
}</code></pre>
<h3>–§—É–Ω–∫—Ü–∏—è –±–µ–∑ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è</h3>
<pre><code class="language-go">func printHello() {
	fmt.Println("Hello")
}</code></pre>
<p>—Ç–∏–ø –≤–æ–∑–≤—Ä–∞—Ç–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Üí <code>void</code> –ø–æ —Å—É—Ç–∏</p>
<h3>–ù–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π</h3>
<pre><code class="language-go">func divide(a, b int) (int, error) {
	if b == 0 {
		return 0, errors.New("division by zero")
	}
	return a / b, nil
}</code></pre>
<p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</p>
<pre><code class="language-go">res, err := divide(10, 2)
if err != nil {
	log.Fatal(err)
}
fmt.Println(res)</code></pre>
<p><b>üí° –ò–¥–µ–æ–ª–æ–≥–∏—è Go:</b></p>
<blockquote class="note">–æ—à–∏–±–∫–∏ ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∞ –Ω–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è</blockquote>
<h3>–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è</h3>
<pre><code class="language-go">func sum(a, b int) (result int) {
	result = a + b
	return // return –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
}</code></pre>
<p><b>‚ö†Ô∏è –û—Å—Ç–æ—Ä–æ–∂–Ω–æ:</b></p>
<ul>
    <li>–º–æ–∂–µ—Ç —É—Ö—É–¥—à–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å</li>
    <li>—á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ <code>defer</code> / <code>recover</code></li>
</ul>
<h3>Variadic-—Ñ—É–Ω–∫—Ü–∏–∏ (–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤)</h3>
<pre><code class="language-go">func sum(nums ...int) int {
	total := 0
	for _, n := range nums {
		total += n
	}
	return total
}</code></pre>
<p>–í—ã–∑–æ–≤:</p>
<pre><code class="language-go">sum(1, 2, 3)
sum([]int{1, 2, 3}...)</code></pre>
<p>üìå <code>...int</code> ‚Üí –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ <code>[]int</code></p>
<h3>–§—É–Ω–∫—Ü–∏–∏ –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è (first-class functions)</h3>
<pre><code class="language-go">func apply(a, b int, op func(int, int) int) int {
	return op(a, b)
}</code></pre>
<pre><code class="language-go">add := func(x, y int) int {
	return x + y
}

fmt.Println(apply(2, 3, add))</code></pre>
<p>‚û°Ô∏è —Ñ—É–Ω–∫—Ü–∏–∏ –º–æ–∂–Ω–æ:</p>
<ul>
    <li>–ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—ã</li>
    <li>–≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π</li>
    <li>—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö</li>
</ul>
<h3>–ê–Ω–æ–Ω–∏–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∑–∞–º—ã–∫–∞–Ω–∏—è</h3>
<pre><code class="language-go">counter := 0

inc := func() int {
	counter++
	return counter
}

fmt.Println(inc()) // 1
fmt.Println(inc()) // 2</code></pre>
<p>üìå –ó–∞–º—ã–∫–∞–Ω–∏–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ —Å—Å—ã–ª–∫–µ, –∞ –Ω–µ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é<br>(—á–∞—Å—Ç–∞—è –ª–æ–≤—É—à–∫–∞ –≤ goroutines!)</p>

<h3>–§—É–Ω–∫—Ü–∏–∏ –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç</h3>
<pre><code class="language-go">func work(ctx context.Context) error {
	select {
	case <-time.After(time.Second):
		return nil
	case <-ctx.Done():
		return ctx.Err()
	}
}</code></pre>
<p>‚úî —Å—Ç–∞–Ω–¥–∞—Ä—Ç:</p>
<ul>
    <li><code>context.Context</code> ‚Äî <b>–ø–µ—Ä–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä</b></li>
    <li>–Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ</li>
    <li>–Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å <code>nil</code></li>
</ul>
<h3>–•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏</h3>
<p>‚úÖ –î–µ–ª–∞–π:</p>
<ul>
    <li>–º–∞–ª–µ–Ω—å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏</li>
    <li>–æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ ‚Äî –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è</li>
    <li>–≤–æ–∑–≤—Ä–∞—â–∞–π –æ—à–∏–±–∫–∏ —è–≤–Ω–æ</li>
    <li>–ø—Ä–∏–Ω–∏–º–∞–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã, –≤–æ–∑–≤—Ä–∞—â–∞–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã</li>
</ul>
<p>‚ùå –ù–µ –¥–µ–ª–∞–π:</p>
<ul>
    <li>—Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ 200 —Å—Ç—Ä–æ–∫</li>
    <li>panic –≤–º–µ—Å—Ç–æ error</li>
    <li>—Å–∫—Ä—ã—Ç—É—é –º–∞–≥–∏—é —á–µ—Ä–µ–∑ named return –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã</li>
</ul>


<hr>
<h2 id="methods">–ú–µ—Ç–æ–¥—ã</h2>
<p>–≠—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º</p>
<pre><code class="language-go">type User struct {
	Name string
}

func (u User) Greet() {
	fmt.Println("Hello,", u.Name)
}</code></pre>
<h3>–£–∫–∞–∑–∞—Ç–µ–ª—å vs –∑–Ω–∞—á–µ–Ω–∏–µ</h3>
<pre><code class="language-go">func (u *User) Rename(name string) {
	u.Name = name
}</code></pre>
<p>üìå –ü—Ä–∞–≤–∏–ª–∞:</p>
<ul>
    <li><code>*T</code> ‚Äî –µ—Å–ª–∏ –º–µ–Ω—è–µ—à—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ</li>
    <li><code>T</code> ‚Äî –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞–µ—à—å</li>
    <li>–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —á–∞—â–µ –æ–∂–∏–¥–∞—é—Ç –º–µ—Ç–æ–¥—ã —Å <b>value receiver</b></li>
</ul>

{{ end }}