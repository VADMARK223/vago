{{ define "book.ci_cd" }}
<h1>CI/CD</h1>
<p>CI/CD ‚Äî —ç—Ç–æ <b>–ø—Ä–∞–∫—Ç–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—É—Ç–∏ –æ—Ç –∫–æ–¥–∞ –¥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞</b>.</p>
<hr>
<h2>–ß—Ç–æ —Ç–∞–∫–æ–µ CI –∏ CD</h2>
<h3>üîÅ CI ‚Äî Continuous Integration (–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)</h3>
<p>–ö–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç:</p>
<ul>
    <li>—Å–æ–±–∏—Ä–∞–µ—Ç—Å—è</li>
    <li>—Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è</li>
    <li>–ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ª–∏–Ω–Ω–µ—Ä–∞–º–∏<br>‚Üí <b>—Ä–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫</b></li>
</ul>
<h3>üöÄ CD ‚Äî Continuous Delivery / Deployment</h3>
<p>–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ CI:</p>
<ul>
    <li><b>Delivery</b> ‚Äî –∫–æ–¥ <i>–≥–æ—Ç–æ–≤</i> –∫ –≤—ã–∫–ª–∞–¥–∫–µ (–∫–Ω–æ–ø–∫–∞ ¬´Deploy¬ª)</li>
    <li><b>Deployment</b> ‚Äî –∫–æ–¥ <i>–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</i> –≤—ã–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–¥</li>
</ul>

<hr>
<h2>–û–±—â–∞—è —Å—Ö–µ–º–∞ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞</h2>
<p>–¢–∏–ø–∏—á–Ω—ã–π –ø–æ—Ç–æ–∫:</p>
<pre><code class="language-go">git push
  ‚Üì
CI: build ‚Üí test ‚Üí lint
  ‚Üì
CD: docker build ‚Üí push ‚Üí deploy
</code></pre>

<hr>
<h2>–ß—Ç–æ –æ–±—ã—á–Ω–æ –¥–µ–ª–∞—é—Ç –≤ CI (–¥–ª—è Go)</h2>
<h3>1Ô∏è‚É£ –°–±–æ—Ä–∫–∞</h3>
<pre><code class="language-go">go build ./...</code></pre>
<h3>2Ô∏è‚É£ –¢–µ—Å—Ç—ã</h3>
<pre><code class="language-go">go test ./... -race</code></pre>
<h3>3Ô∏è‚É£ –õ–∏–Ω—Ç–µ—Ä—ã</h3>
<pre><code class="language-go">golangci-lint run</code></pre>
<h3>4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞</h3>
<ul>
    <li>coverage</li>
    <li>—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (<code>gofmt</code>)</li>
    <li><code>staticcheck</code></li>
</ul>
<hr>
<h2>–ß—Ç–æ –æ–±—ã—á–Ω–æ –¥–µ–ª–∞—é—Ç –≤ CD</h2>
<ul>
    <li>—Å–±–æ—Ä Docker-–æ–±—Ä–∞–∑–∞</li>
    <li>push –≤ registry</li>
    <li>–¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä / Kubernetes / VPS</li>
    <li>graceful restart —Å–µ—Ä–≤–∏—Å–∞</li>
</ul>

<hr>
<h2>–ü—Ä–∏–º–µ—Ä CI –¥–ª—è Go (GitHub Actions)</h2>
<pre><code class="language-go">name: Go CI

on:
  push:
    branches: [ "main" ]
  pull_request:

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v4

    - uses: actions/setup-go@v5
      with:
        go-version: '1.22'

    - run: go mod download
    - run: go test ./... -race
    - run: go build ./...
</code></pre>

<hr>
<h2>CI/CD –≤ production-–ø–æ–¥—Ö–æ–¥–µ (–∫–∞–∫ –Ω–∞ —Å–æ–±–µ—Å–µ)</h2>
<p>–ß—Ç–æ <b>–æ—á–µ–Ω—å –ª—é–±—è—Ç</b> —Å–ø—Ä–∞—à–∏–≤–∞—Ç—å:</p>
<ul>
    <li>‚úîÔ∏è —á–µ–º CI –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç CD</li>
    <li>‚úîÔ∏è –≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã (GitHub Secrets, Vault)</li>
    <li>‚úîÔ∏è rollback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è</li>
    <li>‚úîÔ∏è blue-green / canary –¥–µ–ø–ª–æ–π</li>
    <li>‚úîÔ∏è —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Ç–µ—Å—Ç—ã —Ñ–ª–∞–ø–∞—é—Ç</li>
    <li>‚úîÔ∏è –ø–æ—á–µ–º—É -race –Ω–µ–ª—å–∑—è –≤ prod, –Ω–æ –º–æ–∂–Ω–æ –≤ CI</li>
</ul>





{{ end }}